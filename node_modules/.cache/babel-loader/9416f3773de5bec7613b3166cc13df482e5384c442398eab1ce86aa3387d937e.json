{"ast":null,"code":"import _createForOfIteratorHelper from\"/Users/gowtham/Documents/GitHub/myportfolio/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _slicedToArray from\"/Users/gowtham/Documents/GitHub/myportfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useState,useEffect,useRef}from\"react\";import\"./BackgroundAnimation.css\";import{jsx as _jsx}from\"react/jsx-runtime\";export function BackgroundAnimation(){var _useState=useState(getWindowSize()),_useState2=_slicedToArray(_useState,2),windowSize=_useState2[0],setWindowSize=_useState2[1];function getWindowSize(){var _window=window,innerWidth=_window.innerWidth,innerHeight=_window.innerHeight;return{innerWidth:innerWidth,innerHeight:innerHeight};}useEffect(function(){function handleWindowResize(){setWindowSize(getWindowSize());}window.addEventListener(\"resize\",handleWindowResize);return function(){window.removeEventListener(\"resize\",handleWindowResize);};},[]);// ---------------------------------------------------------\n// Animation\nvar canvasRef=useRef(null);var state={canvasWidth:windowSize.innerWidth,canvasHeight:windowSize.innerHeight};useEffect(function(){if(canvasRef.current){var c=canvasRef.current.getContext(\"2d\");var makeStars=function makeStars(count){var out=[];for(var i=0;i<count;i++){var star={x:(Math.random()-0.5)*state.canvasWidth*2,y:(Math.random()-0.5)*state.canvasHeight*2,z:i*1000/count};out.push(star);}return out;};var stars=state.canvasWidth<940?makeStars(1000):makeStars(4000);var clear=function clear(){c.fillRect(0,0,state.canvasWidth,state.canvasHeight);};var putPixel=function putPixel(x,y,brightness,size){var intensity=brightness*255;var rgb=\"rgb(\"+intensity+\",\"+intensity+\",\"+intensity+\")\";c.fillStyle=rgb;c.fillRect(x,y,size,size);};var moveStars=function moveStars(distance){var count=stars.length;var _iterator=_createForOfIteratorHelper(stars),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var star=_step.value;star.z+=distance;}}catch(err){_iterator.e(err);}finally{_iterator.f();}for(var i=0;stars[count-1].z>1000;i++){// Replace star\nstars.pop();stars.unshift({x:(Math.random()-0.5)*state.canvasWidth*2,y:(Math.random()-0.5)*state.canvasHeight*2,z:stars[0].z-1000/count// keep z ordered\n});}};var prevTime;var init=function init(time){prevTime=time;requestAnimationFrame(tick);};var tick=function tick(time){var elapsed=time-prevTime;prevTime=time;moveStars(elapsed*0.03);clear();var cx=state.canvasWidth/2;var cy=state.canvasHeight/2;var _iterator2=_createForOfIteratorHelper(stars),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var star=_step2.value;var x=cx+star.x/(star.z*0.001);var y=cy+star.y/(star.z*0.001);if(x<0||x>=state.canvasWidth||y<0||y>=state.canvasHeight){continue;}var distance=star.z/1000;var brightness=1-distance*distance;var size=brightness*5;putPixel(x,y,brightness,size);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}requestAnimationFrame(tick);};requestAnimationFrame(init);}},[state.canvasHeight,state.canvasWidth]);return/*#__PURE__*/_jsx(\"canvas\",{id:\"homeCanvas\",className:\"home-canvas\",ref:canvasRef,width:state.canvasWidth,height:state.canvasHeight});}","map":{"version":3,"names":["React","useState","useEffect","useRef","BackgroundAnimation","getWindowSize","windowSize","setWindowSize","window","innerWidth","innerHeight","handleWindowResize","addEventListener","removeEventListener","canvasRef","state","canvasWidth","canvasHeight","current","c","getContext","makeStars","count","out","i","star","x","Math","random","y","z","push","stars","clear","fillRect","putPixel","brightness","size","intensity","rgb","fillStyle","moveStars","distance","length","pop","unshift","prevTime","init","time","requestAnimationFrame","tick","elapsed","cx","cy"],"sources":["/Users/gowtham/Documents/GitHub/myportfolio/src/components/home/BackgroundAnimation.tsx"],"sourcesContent":["import React from \"react\";\nimport { useState, useEffect, useRef } from \"react\";\nimport \"./BackgroundAnimation.css\";\n\nexport function BackgroundAnimation() {\n  const [windowSize, setWindowSize] = useState(getWindowSize());\n\n  function getWindowSize() {\n    const { innerWidth, innerHeight } = window;\n    return { innerWidth, innerHeight };\n  }\n  useEffect(() => {\n    function handleWindowResize() {\n      setWindowSize(getWindowSize());\n    }\n    window.addEventListener(\"resize\", handleWindowResize);\n\n    return () => {\n      window.removeEventListener(\"resize\", handleWindowResize);\n    };\n  }, []);\n\n  // ---------------------------------------------------------\n  // Animation\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const state = {\n    canvasWidth: windowSize.innerWidth,\n    canvasHeight: windowSize.innerHeight,\n  };\n\n  useEffect(() => {\n    if (canvasRef.current) {\n      const c = canvasRef.current.getContext(\"2d\");\n\n      const makeStars = (count: number) => {\n        const out = [];\n        for (let i = 0; i < count; i++) {\n          const star = {\n            x: (Math.random() - 0.5) * state.canvasWidth * 2,\n            y: (Math.random() - 0.5) * state.canvasHeight * 2,\n            z: (i * 1000) / count,\n          };\n          out.push(star);\n        }\n        return out;\n      };\n\n      let stars = state.canvasWidth < 940 ? makeStars(1000) : makeStars(4000);\n\n      const clear = () => {\n        c!.fillRect(0, 0, state.canvasWidth, state.canvasHeight);\n      };\n\n      const putPixel = (\n        x: number,\n        y: number,\n        brightness: number,\n        size: number\n      ) => {\n        const intensity = brightness * 255;\n        const rgb =\n          \"rgb(\" + intensity + \",\" + intensity + \",\" + intensity + \")\";\n        c!.fillStyle = rgb;\n        c!.fillRect(x, y, size, size);\n      };\n\n      const moveStars = (distance: number) => {\n        const count = stars.length;\n\n        for (let star of stars) {\n          star.z += distance;\n        }\n        for (let i = 0; stars[count - 1].z > 1000; i++) {\n          // Replace star\n          stars.pop();\n          stars.unshift({\n            x: (Math.random() - 0.5) * state.canvasWidth * 2,\n            y: (Math.random() - 0.5) * state.canvasHeight * 2,\n            z: stars[0].z - 1000 / count, // keep z ordered\n          });\n        }\n      };\n\n      let prevTime: number;\n      const init = (time: number) => {\n        prevTime = time;\n        requestAnimationFrame(tick);\n      };\n\n      const tick = (time: number) => {\n        let elapsed = time - prevTime;\n        prevTime = time;\n\n        moveStars(elapsed * 0.03);\n\n        clear();\n\n        const cx = state.canvasWidth / 2;\n        const cy = state.canvasHeight / 2;\n\n        for (let star of stars) {\n          const x = cx + star.x / (star.z * 0.001);\n          const y = cy + star.y / (star.z * 0.001);\n\n          if (\n            x < 0 ||\n            x >= state.canvasWidth ||\n            y < 0 ||\n            y >= state.canvasHeight\n          ) {\n            continue;\n          }\n\n          const distance = star.z / 1000;\n          const brightness = 1 - distance * distance;\n          const size = brightness * 5;\n\n          putPixel(x, y, brightness, size);\n        }\n\n        requestAnimationFrame(tick);\n      };\n\n      requestAnimationFrame(init);\n    }\n  }, [state.canvasHeight, state.canvasWidth]);\n\n  return (\n    <canvas\n      id=\"homeCanvas\"\n      className=\"home-canvas\"\n      ref={canvasRef}\n      width={state.canvasWidth}\n      height={state.canvasHeight}\n    ></canvas>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}